(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-bb913306"],{"0047":function(t,e,n){t.exports=n.p+"ddbxryuser/img/transfer.png"},"07e3":function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},"1bc3":function(t,e,n){var r=n("f772");t.exports=function(t,e){if(!r(t))return t;var n,o;if(e&&"function"==typeof(n=t.toString)&&!r(o=n.call(t)))return o;if("function"==typeof(n=t.valueOf)&&!r(o=n.call(t)))return o;if(!e&&"function"==typeof(n=t.toString)&&!r(o=n.call(t)))return o;throw TypeError("Can't convert object to primitive value")}},"1ec9":function(t,e,n){var r=n("f772"),o=n("e53d").document,a=r(o)&&r(o.createElement);t.exports=function(t){return a?o.createElement(t):{}}},"294c":function(t,e){t.exports=function(t){try{return!!t()}catch(e){return!0}}},"35e8":function(t,e,n){var r=n("d9f6"),o=n("aebd");t.exports=n("8e60")?function(t,e,n){return r.f(t,e,o(1,n))}:function(t,e,n){return t[e]=n,t}},3846:function(t,e,n){n("9e1e")&&"g"!=/./g.flags&&n("86cc").f(RegExp.prototype,"flags",{configurable:!0,get:n("0bfb")})},"454f":function(t,e,n){n("46a7");var r=n("584a").Object;t.exports=function(t,e,n){return r.defineProperty(t,e,n)}},"46a7":function(t,e,n){var r=n("63b6");r(r.S+r.F*!n("8e60"),"Object",{defineProperty:n("d9f6").f})},"48f4":function(t,e,n){"use strict";function r(t,e){var n=e.to,r=e.url,o=e.replace;if(n&&t){var a=t[o?"replace":"push"](n);a&&a.catch&&a.catch(function(t){if("NavigationDuplicated"!==t.name)throw t})}else r&&(o?location.replace(r):location.href=r)}function o(t){r(t.parent&&t.parent.$router,t.props)}n.d(e,"b",function(){return r}),n.d(e,"a",function(){return o}),n.d(e,"c",function(){return a});var a={url:String,replace:Boolean,to:[String,Object]}},"584a":function(t,e){var n=t.exports={version:"2.6.9"};"number"==typeof __e&&(__e=n)},"63b6":function(t,e,n){var r=n("e53d"),o=n("584a"),a=n("d864"),i=n("35e8"),c=n("07e3"),u="prototype",s=function(t,e,n){var l,f,d,p=t&s.F,v=t&s.G,b=t&s.S,m=t&s.P,h=t&s.B,g=t&s.W,y=v?o:o[e]||(o[e]={}),w=y[u],x=v?r:b?r[e]:(r[e]||{})[u];for(l in v&&(n=e),n)f=!p&&x&&void 0!==x[l],f&&c(y,l)||(d=f?x[l]:n[l],y[l]=v&&"function"!=typeof x[l]?n[l]:h&&f?a(d,r):g&&x[l]==d?function(t){var e=function(e,n,r){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(e);case 2:return new t(e,n)}return new t(e,n,r)}return t.apply(this,arguments)};return e[u]=t[u],e}(d):m&&"function"==typeof d?a(Function.call,d):d,m&&((y.virtual||(y.virtual={}))[l]=d,t&s.R&&w&&!w[l]&&i(w,l,d)))};s.F=1,s.G=2,s.S=4,s.P=8,s.B=16,s.W=32,s.U=64,s.R=128,t.exports=s},"66b9":function(t,e,n){"use strict";n("68ef"),n("09fe")},"6b54":function(t,e,n){"use strict";n("3846");var r=n("cb7c"),o=n("0bfb"),a=n("9e1e"),i="toString",c=/./[i],u=function(t){n("2aba")(RegExp.prototype,i,t,!0)};n("79e5")(function(){return"/a/b"!=c.call({source:"a",flags:"b"})})?u(function(){var t=r(this);return"/".concat(t.source,"/","flags"in t?t.flags:!a&&t instanceof RegExp?o.call(t):void 0)}):c.name!=i&&u(function(){return c.call(this)})},"794b":function(t,e,n){t.exports=!n("8e60")&&!n("294c")(function(){return 7!=Object.defineProperty(n("1ec9")("div"),"a",{get:function(){return 7}}).a})},"79aa":function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},"7f7f":function(t,e,n){var r=n("86cc").f,o=Function.prototype,a=/^\s*function ([^ (]*)/,i="name";i in o||n("9e1e")&&r(o,i,{configurable:!0,get:function(){try{return(""+this).match(a)[1]}catch(t){return""}}})},"85f2":function(t,e,n){t.exports=n("454f")},"8a58":function(t,e,n){"use strict";n("68ef"),n("09fe"),n("4d75")},"8e60":function(t,e,n){t.exports=!n("294c")(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},9776:function(t,e,n){"use strict";var r=n("baab"),o=n.n(r);o.a},aebd:function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},b650:function(t,e,n){"use strict";var r=n("1988"),o=n("2638"),a=n.n(o),i=n("d282"),c=n("ba31"),u=n("b1d2"),s=n("48f4"),l=n("ad06"),f=n("543e"),d=Object(i["a"])("button"),p=d[0],v=d[1];function b(t,e,n,r){var o,i=e.tag,d=e.icon,p=e.type,b=e.color,m=e.plain,h=e.disabled,g=e.loading,y=e.hairline,w=e.loadingText,x={};function S(t){g||h||(Object(c["a"])(r,"click",t),Object(s["a"])(r))}function C(t){Object(c["a"])(r,"touchstart",t)}b&&(x.color=m?b:u["i"],m||(x.background=b),-1!==b.indexOf("gradient")?x.border=0:x.borderColor=b);var O=[v([p,e.size,{plain:m,disabled:h,hairline:y,block:e.block,round:e.round,square:e.square}]),(o={},o[u["d"]]=y,o)];function j(){var r,o=[];return g?o.push(t(f["a"],{class:v("loading"),attrs:{size:e.loadingSize,type:e.loadingType,color:"default"===p?void 0:""}})):d&&o.push(t(l["a"],{attrs:{name:d},class:v("icon")})),r=g?w:n.default?n.default():e.text,r&&o.push(t("span",{class:v("text")},[r])),o}return t(i,a()([{style:x,class:O,attrs:{type:e.nativeType,disabled:h},on:{click:S,touchstart:C}},Object(c["b"])(r)]),[j()])}b.props=Object(r["a"])({},s["c"],{text:String,icon:String,color:String,block:Boolean,plain:Boolean,round:Boolean,square:Boolean,loading:Boolean,hairline:Boolean,disabled:Boolean,nativeType:String,loadingText:String,loadingType:String,tag:{type:String,default:"button"},type:{type:String,default:"default"},size:{type:String,default:"normal"},loadingSize:{type:String,default:"20px"}}),e["a"]=p(b)},baab:function(t,e,n){},bd86:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("85f2"),o=n.n(r);function a(t,e,n){return e in t?o()(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}},d864:function(t,e,n){var r=n("79aa");t.exports=function(t,e,n){if(r(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,o){return t.call(e,n,r,o)}}return function(){return t.apply(e,arguments)}}},d9f6:function(t,e,n){var r=n("e4ae"),o=n("794b"),a=n("1bc3"),i=Object.defineProperty;e.f=n("8e60")?Object.defineProperty:function(t,e,n){if(r(t),e=a(e,!0),r(n),o)try{return i(t,e,n)}catch(c){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},e41f:function(t,e,n){"use strict";var r=n("d282"),o=n("a142"),a=n("6605"),i=n("ad06"),c=Object(r["a"])("popup"),u=c[0],s=c[1];e["a"]=u({mixins:[a["a"]],props:{round:Boolean,duration:Number,closeable:Boolean,transition:String,safeAreaInsetBottom:Boolean,closeIcon:{type:String,default:"cross"},closeIconPosition:{type:String,default:"top-right"},position:{type:String,default:"center"},overlay:{type:Boolean,default:!0},closeOnClickOverlay:{type:Boolean,default:!0}},beforeCreate:function(){var t=this,e=function(e){return function(n){return t.$emit(e,n)}};this.onClick=e("click"),this.onOpened=e("opened"),this.onClosed=e("closed")},render:function(){var t,e=arguments[0];if(this.shouldRender){var n=this.round,r=this.position,a=this.duration,c=this.transition||("center"===r?"van-fade":"van-popup-slide-"+r),u={};return Object(o["b"])(a)&&(u.transitionDuration=a+"s"),e("transition",{attrs:{name:c},on:{afterEnter:this.onOpened,afterLeave:this.onClosed}},[e("div",{directives:[{name:"show",value:this.value}],style:u,class:s((t={round:n},t[r]=r,t["safe-area-inset-bottom"]=this.safeAreaInsetBottom,t)),on:{click:this.onClick}},[this.slots(),this.closeable&&e(i["a"],{attrs:{name:this.closeIcon},class:s("close-icon",this.closeIconPosition),on:{click:this.close}})])])}}})},e4ae:function(t,e,n){var r=n("f772");t.exports=function(t){if(!r(t))throw TypeError(t+" is not an object!");return t}},e53d:function(t,e){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},eb2f:function(t,e,n){"use strict";n.r(e);var r,o=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"transfer"},[r("div",{staticClass:"top"},[r("div",{staticClass:"left"},[r("div",{staticClass:"name"},[t._v("会员昵称")]),r("div",{staticClass:"val"},[t._v(t._s(t.name)+" (ID:"+t._s(t.id)+")")])]),r("div",{staticClass:"right"},[r("div",{staticClass:"name"},[t._v("我的卡券")]),r("div",{staticClass:"val"},[t._v(t._s(t.num)+" 张")])])]),r("img",{staticStyle:{"margin-top":".8rem"},attrs:{src:n("0047"),alt:""}}),r("p",[t._v("使用券转移后无法撤销，请谨慎操作！")]),r("div",{staticClass:"wrap"},[r("div",{staticClass:"item first"},[r("div",{staticClass:"name"},[t._v("对方会员ID")]),r("input",{directives:[{name:"model",rawName:"v-model",value:t.receiveCode,expression:"receiveCode"}],attrs:{type:"number",pattern:"[0-9]*",placeholder:"填写会员接收ID号"},domProps:{value:t.receiveCode},on:{input:function(e){e.target.composing||(t.receiveCode=e.target.value)}}})]),r("div",{staticClass:"item"},[r("div",{staticClass:"name"},[t._v("转移卡券（张）")]),r("input",{directives:[{name:"model",rawName:"v-model",value:t.couponSum,expression:"couponSum"}],attrs:{type:"number",pattern:"[0-9]*",placeholder:"填写转出卡券数量"},domProps:{value:t.couponSum},on:{input:function(e){e.target.composing||(t.couponSum=e.target.value)}}})])]),r("div",{staticClass:"btn"},[r("div",{staticClass:"btn-left",on:{click:t.transfer}},[t._v("转移卡券")]),r("div",{staticClass:"btn-right",on:{click:function(e){return t.$router.push("/transferRecord")}}},[t._v("转移记录")])]),r("van-popup",{attrs:{position:"top"},model:{value:t.showKeyboard,callback:function(e){t.showKeyboard=e},expression:"showKeyboard"}},[r("div",{staticClass:"pw-box"},[r("input",{directives:[{name:"model",rawName:"v-model",value:t.value,expression:"value"}],staticClass:"pw",attrs:{type:"password",pattern:"[0-9]*",placeholder:"请输入支付密码"},domProps:{value:t.value},on:{input:function(e){e.target.composing||(t.value=e.target.value)}}}),r("van-button",{staticClass:"btn-pw",attrs:{type:"primary"},on:{click:t.refundPw}},[t._v("确认")])],1)])],1)},a=[],i=(n("e7e5"),n("d399")),c=n("bd86"),u=(n("66b9"),n("b650")),s=(n("7f7f"),n("8a58"),n("e41f")),l=n("ed08"),f={components:(r={},Object(c["a"])(r,s["a"].name,s["a"]),Object(c["a"])(r,u["a"].name,u["a"]),r),data:function(){return{showKeyboard:!1,value:null,name:localStorage.memName,id:localStorage.memId,couponSum:null,receiveCode:null,num:0}},methods:{getInfo:function(){var t=this,e={xrymem_token_id:localStorage.memToken,opType:316};this.$api.ticket.merTicket(e).then(function(e){1==e.resultCode&&(t.num=e.data)})},refundPw:function(){var t=this;if(Object(l["a"])(this.value)){var e={xrymem_token_id:localStorage.memToken,opType:309,payPwd:this.value};this.$api.pay.changePw(e).then(function(e){if(1===e.resultCode){t.showKeyboard=!1;var n={xrymem_token_id:localStorage.memToken,opType:314,couponSum:t.couponSum,receiveCode:t.receiveCode};t.$api.ticket.merTicket(n).then(function(t){1==t.resultCode&&Object(i["a"])("转移成功")})}else Object(i["a"])("密码错误！")})}},transfer:function(){this.receiveCode?this.couponSum<1||this.couponSum>this.num?Object(i["a"])("请输入合适的卡券数量，不能多于持有卡券数量"):this.showKeyboard=!0:Object(i["a"])("请输入会员接收ID号")}},mounted:function(){this.getInfo()}},d=f,p=(n("9776"),n("2877")),v=Object(p["a"])(d,o,a,!1,null,"6c5e6321",null);e["default"]=v.exports},ed08:function(t,e,n){"use strict";n.d(e,"c",function(){return o}),n.d(e,"e",function(){return a}),n.d(e,"b",function(){return i}),n.d(e,"d",function(){return c}),n.d(e,"a",function(){return u}),n.d(e,"f",function(){return s});n("6b54"),n("e7e5");var r=n("d399"),o=function(t){var e=/^1[3|4|5|6|7|8|9][0-9]\d{8}$/;return!!e.test(t)||(Object(r["a"])("请输入正确的手机号"),!1)},a=function(t){var e=/^[\u4E00-\u9FA5A-Za-z0-9_]{1,16}$/;return!!e.test(t)||(Object(r["a"])("输入的必须是1-16位的任何字符!!!"),!1)},i=function(t){var e=/^[a-zA-Z0-9_-]{6,20}$/;return!!e.test(t)||(Object(r["a"])("密码必须由6-20位字母、数字、下划线组成"),!1)},c=function(t){var e=/^\d{6}$/;return!!e.test(t)||(Object(r["a"])("支付密码必须为六位数字"),!1)},u=function(t){var e=/^\d{6}$/;return!!e.test(t)||(Object(r["a"])("请输入六位数字的密码！"),!1)},s=function(t){var e=60;return t.timer||(t.waitTime=e,t.canGet=!1,t.timer=setInterval(function(){t.waitTime>0&&t.waitTime<=e?t.waitTime--:(t.canGet=!0,clearInterval(t.timer),t.timer=null)},1e3)),{timer:t.timer,canGet:t.canGet,waitTime:t.waitTime}}},f772:function(t,e){t.exports=function(t){return"object"===typeof t?null!==t:"function"===typeof t}}}]);