(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-b00ecaec"],{"128d":function(e,t,n){e.exports=n.p+"ddbxryuser/img/login_logo.png"},2241:function(e,t,n){"use strict";var o,a=n("1988"),i=n("2b0e"),s=n("d282"),r=n("ea8e"),c=n("b1d2"),l=n("6605"),u=n("b650"),d=Object(s["a"])("dialog"),m=d[0],p=d[1],f=d[2],h=m({mixins:[Object(l["a"])()],props:{title:String,width:[Number,String],message:String,className:null,callback:Function,beforeClose:Function,messageAlign:String,cancelButtonText:String,cancelButtonColor:String,confirmButtonText:String,confirmButtonColor:String,showCancelButton:Boolean,transition:{type:String,default:"van-dialog-bounce"},showConfirmButton:{type:Boolean,default:!0},overlay:{type:Boolean,default:!0},closeOnClickOverlay:{type:Boolean,default:!1}},data:function(){return{loading:{confirm:!1,cancel:!1}}},methods:{onClickOverlay:function(){this.handleAction("overlay")},handleAction:function(e){var t=this;this.$emit(e),this.value&&(this.beforeClose?(this.loading[e]=!0,this.beforeClose(e,function(n){!1!==n&&t.loading[e]&&t.onClose(e),t.loading.confirm=!1,t.loading.cancel=!1})):this.onClose(e))},onClose:function(e){this.close(),this.callback&&this.callback(e)},onOpened:function(){this.$emit("opened")},onClosed:function(){this.$emit("closed")},genButtons:function(){var e,t=this,n=this.$createElement,o=this.showCancelButton&&this.showConfirmButton;return n("div",{class:[c["d"],p("footer",{buttons:o})]},[this.showCancelButton&&n(u["a"],{attrs:{size:"large",loading:this.loading.cancel,text:this.cancelButtonText||f("cancel")},class:p("cancel"),style:{color:this.cancelButtonColor},on:{click:function(){t.handleAction("cancel")}}}),this.showConfirmButton&&n(u["a"],{attrs:{size:"large",loading:this.loading.confirm,text:this.confirmButtonText||f("confirm")},class:[p("confirm"),(e={},e[c["b"]]=o,e)],style:{color:this.confirmButtonColor},on:{click:function(){t.handleAction("confirm")}}})])}},render:function(){var e,t=arguments[0];if(this.shouldRender){var n=this.message,o=this.messageAlign,a=this.slots(),i=this.slots("title")||this.title,s=i&&t("div",{class:p("header",{isolated:!n&&!a})},[i]),c=(a||n)&&t("div",{class:p("content")},[a||t("div",{domProps:{innerHTML:n},class:p("message",(e={"has-title":i},e[o]=o,e))})]);return t("transition",{attrs:{name:this.transition},on:{afterEnter:this.onOpened,afterLeave:this.onClosed}},[t("div",{directives:[{name:"show",value:this.value}],attrs:{role:"dialog","aria-labelledby":this.title||n},class:[p(),this.className],style:{width:Object(r["a"])(this.width)}},[s,c,this.genButtons()])])}}}),v=n("a142");function g(e){return document.body.contains(e)}function b(){o&&o.$destroy(),o=new(i["a"].extend(h))({el:document.createElement("div"),propsData:{lazyRender:!1}}),o.$on("input",function(e){o.value=e})}function w(e){return v["f"]?Promise.resolve():new Promise(function(t,n){o&&g(o.$el)||b(),Object(a["a"])(o,w.currentOptions,e,{resolve:t,reject:n})})}w.defaultOptions={value:!0,title:"",width:"",message:"",overlay:!0,className:"",lockScroll:!0,transition:"van-dialog-bounce",beforeClose:null,overlayClass:"",overlayStyle:null,messageAlign:"",getContainer:"body",cancelButtonText:"",cancelButtonColor:null,confirmButtonText:"",confirmButtonColor:null,showConfirmButton:!0,showCancelButton:!1,closeOnPopstate:!1,closeOnClickOverlay:!1,callback:function(e){o["confirm"===e?"resolve":"reject"](e)}},w.alert=w,w.confirm=function(e){return w(Object(a["a"])({showCancelButton:!0},e))},w.close=function(){o&&(o.value=!1)},w.setDefaultOptions=function(e){Object(a["a"])(w.currentOptions,e)},w.resetDefaultOptions=function(){w.currentOptions=Object(a["a"])({},w.defaultOptions)},w.resetDefaultOptions(),w.install=function(){i["a"].use(h)},w.Component=h,i["a"].prototype.$dialog=w;t["a"]=w},"2dc9":function(e,t,n){"use strict";var o=n("b8a3"),a=n.n(o);a.a},"2fcb":function(e,t,n){},3846:function(e,t,n){n("9e1e")&&"g"!=/./g.flags&&n("86cc").f(RegExp.prototype,"flags",{configurable:!0,get:n("0bfb")})},"49f4":function(e,t,n){},"6b54":function(e,t,n){"use strict";n("3846");var o=n("cb7c"),a=n("0bfb"),i=n("9e1e"),s="toString",r=/./[s],c=function(e){n("2aba")(RegExp.prototype,s,e,!0)};n("79e5")(function(){return"/a/b"!=r.call({source:"a",flags:"b"})})?c(function(){var e=o(this);return"/".concat(e.source,"/","flags"in e?e.flags:!i&&e instanceof RegExp?a.call(e):void 0)}):r.name!=s&&c(function(){return r.call(this)})},"78df":function(e,t,n){"use strict";var o=n("49f4"),a=n.n(o);a.a},"8a58":function(e,t,n){"use strict";n("68ef"),n("a71a"),n("9d70"),n("3743"),n("4d75")},b650:function(e,t,n){"use strict";var o=n("1988"),a=n("2638"),i=n.n(a),s=n("d282"),r=n("ba31"),c=n("b1d2"),l=n("48f4"),u=n("ad06"),d=n("543e"),m=Object(s["a"])("button"),p=m[0],f=m[1];function h(e,t,n,o){var a,s=t.tag,m=t.icon,p=t.type,h=t.color,v=t.plain,g=t.disabled,b=t.loading,w=t.hairline,C=t.loadingText,y={};function O(e){b||g||(Object(r["a"])(o,"click",e),Object(l["a"])(o))}function j(e){Object(r["a"])(o,"touchstart",e)}h&&(y.color=v?h:c["g"],v||(y.background=h),-1!==h.indexOf("gradient")?y.border=0:y.borderColor=h);var x=[f([p,t.size,{plain:v,loading:b,disabled:g,hairline:w,block:t.block,round:t.round,square:t.square}]),(a={},a[c["c"]]=w,a)];function S(){var o,a=[];return b?a.push(e(d["a"],{class:f("loading"),attrs:{size:t.loadingSize,type:t.loadingType,color:"currentColor"}})):m&&a.push(e(u["a"],{attrs:{name:m,classPrefix:t.iconPrefix},class:f("icon")})),o=b?C:n.default?n.default():t.text,o&&a.push(e("span",{class:f("text")},[o])),a}return e(s,i()([{style:y,class:x,attrs:{type:t.nativeType,disabled:g},on:{click:O,touchstart:j}},Object(r["b"])(o)]),[S()])}h.props=Object(o["a"])(Object(o["a"])({},l["c"]),{},{text:String,icon:String,color:String,block:Boolean,plain:Boolean,round:Boolean,square:Boolean,loading:Boolean,hairline:Boolean,disabled:Boolean,iconPrefix:String,nativeType:String,loadingText:String,loadingType:String,tag:{type:String,default:"button"},type:{type:String,default:"default"},size:{type:String,default:"normal"},loadingSize:{type:String,default:"20px"}}),t["a"]=p(h)},b8a3:function(e,t,n){},bc1b:function(e,t,n){},c3a6:function(e,t,n){"use strict";n("68ef"),n("9d70"),n("3743")},dc3f:function(e,t,n){"use strict";n.r(t);var o,a=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"login"},[o("img",{attrs:{src:n("128d"),alt:""}}),o("div",{staticClass:"box"},[o("div",{staticClass:"tab"},[o("span",{class:{active:1==e.active},on:{click:function(t){e.active=1}}},[e._v("登录")]),o("span",{class:{active:2==e.active},on:{click:function(t){e.active=2}}},[e._v("注册")])]),1==e.active?o("div",{staticClass:"login-cont"},[o("div",{staticClass:"item"},[o("input",{directives:[{name:"model",rawName:"v-model",value:e.phone,expression:"phone"}],attrs:{type:"number",pattern:"[0-9]*",placeholder:"请输入手机号"},domProps:{value:e.phone},on:{input:function(t){t.target.composing||(e.phone=t.target.value)}}})]),o("div",{staticClass:"item"},[o("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],attrs:{type:"password",placeholder:"请输入密码"},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value)}}})]),o("p",{on:{click:function(t){return e.$router.push("/resetPw")}}},[o("span",[e._v("忘记密码")])]),o("div",{staticClass:"btn",on:{click:e.login}},[e._v("立即登陆")])]):e._e(),2==e.active?o("div",{staticClass:"login-cont"},[o("sign",{on:{memLogin:e.signed}})],1):e._e()])])},i=[],s=n("ed08"),r=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"sign"},[o("div",{staticClass:"login-cont"},[o("div",{staticClass:"input"},[o("input",{directives:[{name:"model",rawName:"v-model",value:e.name,expression:"name"}],attrs:{type:"text",placeholder:"用户名：4-14字符"},domProps:{value:e.name},on:{input:function(t){t.target.composing||(e.name=t.target.value)}}}),o("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],attrs:{type:"password",placeholder:"登录密码：6-20字符"},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value)}}}),o("input",{directives:[{name:"model",rawName:"v-model",value:e.phone,expression:"phone"}],attrs:{type:"number",pattern:"[0-9]*",placeholder:"手机号"},domProps:{value:e.phone},on:{input:function(t){t.target.composing||(e.phone=t.target.value)}}}),o("input",{directives:[{name:"model",rawName:"v-model",value:e.code,expression:"code"}],attrs:{type:"number",pattern:"[0-9]*",placeholder:"输入验证码"},domProps:{value:e.code},on:{input:function(t){t.target.composing||(e.code=t.target.value)}}}),o("span",{directives:[{name:"show",rawName:"v-show",value:!e.timeObj.canGet,expression:"!timeObj.canGet"}]},[e._v(e._s(e.timeObj.waitTime+"s后重新获取"))]),o("span",{directives:[{name:"show",rawName:"v-show",value:e.timeObj.canGet,expression:"timeObj.canGet"}],staticClass:"code",on:{click:e.getCode}},[e._v("获取验证码")]),o("input",{directives:[{name:"model",rawName:"v-model",value:e.memPayPwd,expression:"memPayPwd"}],attrs:{type:"password",pattern:"[0-9]*",placeholder:"支付密码：6位数字"},domProps:{value:e.memPayPwd},on:{input:function(t){t.target.composing||(e.memPayPwd=t.target.value)}}})]),o("div",{staticClass:"btn",on:{click:e.toSign}},[e._v("立即注册")])]),o("van-popup",{style:{width:"80%"},attrs:{round:"","close-on-click-overlay":!1},model:{value:e.show,callback:function(t){e.show=t},expression:"show"}}),e.show?o("div",{staticClass:"p-icon"},[o("img",{staticClass:"gzh",attrs:{src:n("fb9c"),alt:""}}),o("div",{staticClass:"icon-close",on:{click:function(t){e.show=!1}}},[o("van-icon",{attrs:{name:"clear",size:".9rem",color:"#fff"}})],1)]):e._e()],1)},c=[],l=(n("e17f"),n("2241")),u=(n("e7e5"),n("d399")),d=n("bd86"),m=(n("8a58"),n("e41f")),p=(n("7f7f"),n("c3a6"),n("ad06")),f={name:"sign",components:(o={},Object(d["a"])(o,p["a"].name,p["a"]),Object(d["a"])(o,m["a"].name,m["a"]),o),props:{},data:function(){return{show:!1,name:"",password:"",phone:"",code:"",memPayPwd:"",timeCountObj:{canGet:!0,timer:null,waitTime:60}}},computed:{timeObj:function(){return this.timeCountObj.canGet?this.timeCountObj:Object(s["f"])(this.timeCountObj)}},methods:{getCode:function(){var e=this;if(Object(s["c"])(this.phone)){var t={mobile:this.phone,type:"register"};this.$api.login.code(t).then(function(t){1===t.resultCode&&(Object(u["a"])("发送成功！"),Object(s["f"])(e.timeObj))})}},toSign:function(){var e=this;if(Object(s["e"])(this.name)&&Object(s["b"])(this.password)&&Object(s["c"])(this.phone)&&Object(s["d"])(this.memPayPwd))if(localStorage.recCode){var t={memName:this.name,memMobile:this.phone,verifyCode:this.code,memPwd:this.password,pMemCode:localStorage.recCode,memPayPwd:this.memPayPwd};this.$api.login.signQr(t).then(function(t){1===t.resultCode&&(Object(u["a"])("推荐注册成功！"),e.$emit("memLogin",1))})}else{var n={memName:this.name,memMobile:this.phone,verifyCode:this.code,memPwd:this.password,memPayPwd:this.memPayPwd};this.$api.login.sign(n).then(function(t){1===t.resultCode&&(Object(u["a"])("注册成功！"),e.$emit("memLogin",1))})}}},created:function(){localStorage.recCode&&l["a"].alert({title:"提示",message:"推荐人ID: "+localStorage.recCode}).then(function(){})}},h=f,v=(n("2dc9"),n("2877")),g=Object(v["a"])(h,r,c,!1,null,"5ef4ba00",null),b=g.exports,w={name:"login",components:{sign:b},data:function(){return{active:1,phone:"",password:"",recCode:""}},methods:{login:function(){var e=this;if(Object(s["c"])(this.phone)&&Object(s["b"])(this.password)){var t={mobile:this.phone,pwd:this.password};this.$api.login.login(t).then(function(t){1===t.resultCode&&(localStorage.memToken=t.data.token,localStorage.phone=e.phone,localStorage.memName=t.data.member.memName,localStorage.memId=t.data.member.memCode,e.$router.push("/home"))})}},signed:function(){this.active=1}},mounted:function(){console.log(this.$route.query.memCode),localStorage.memToken?this.$router.push("/home"):this.$route.query.memCode&&(this.active=2,localStorage.recCode=this.$route.query.memCode)}},C=w,y=(n("78df"),Object(v["a"])(C,a,i,!1,null,"00e6eb84",null));t["default"]=y.exports},e17f:function(e,t,n){"use strict";n("68ef"),n("a71a"),n("9d70"),n("3743"),n("4d75"),n("e3b3"),n("bc1b"),n("2fcb")},e41f:function(e,t,n){"use strict";var o=n("d282"),a=n("a142"),i=n("6605"),s=n("ad06"),r=Object(o["a"])("popup"),c=r[0],l=r[1];t["a"]=c({mixins:[Object(i["a"])()],props:{round:Boolean,duration:[Number,String],closeable:Boolean,transition:String,safeAreaInsetBottom:Boolean,closeIcon:{type:String,default:"cross"},closeIconPosition:{type:String,default:"top-right"},position:{type:String,default:"center"},overlay:{type:Boolean,default:!0},closeOnClickOverlay:{type:Boolean,default:!0}},beforeCreate:function(){var e=this,t=function(t){return function(n){return e.$emit(t,n)}};this.onClick=t("click"),this.onOpened=t("opened"),this.onClosed=t("closed")},render:function(){var e,t=arguments[0];if(this.shouldRender){var n=this.round,o=this.position,i=this.duration,r="center"===o,c=this.transition||(r?"van-fade":"van-popup-slide-"+o),u={};if(Object(a["b"])(i)){var d=r?"animationDuration":"transitionDuration";u[d]=i+"s"}return t("transition",{attrs:{name:c},on:{afterEnter:this.onOpened,afterLeave:this.onClosed}},[t("div",{directives:[{name:"show",value:this.value}],style:u,class:l((e={round:n},e[o]=o,e["safe-area-inset-bottom"]=this.safeAreaInsetBottom,e)),on:{click:this.onClick}},[this.slots(),this.closeable&&t(s["a"],{attrs:{role:"button",tabindex:"0",name:this.closeIcon},class:l("close-icon",this.closeIconPosition),on:{click:this.close}})])])}}})},ed08:function(e,t,n){"use strict";n.d(t,"c",function(){return a}),n.d(t,"e",function(){return i}),n.d(t,"b",function(){return s}),n.d(t,"d",function(){return r}),n.d(t,"a",function(){return c}),n.d(t,"f",function(){return l});n("6b54"),n("e7e5");var o=n("d399"),a=function(e){var t=/^1[3|4|5|6|7|8|9][0-9]\d{8}$/;return!!t.test(e)||(Object(o["a"])("请输入正确的手机号"),!1)},i=function(e){var t=/^[\u4E00-\u9FA5A-Za-z0-9_]{1,16}$/;return!!t.test(e)||(Object(o["a"])("输入的必须是1-16位的任何字符!!!"),!1)},s=function(e){var t=/^[a-zA-Z0-9_-]{6,20}$/;return!!t.test(e)||(Object(o["a"])("密码必须由6-20位字母、数字、下划线组成"),!1)},r=function(e){var t=/^\d{6}$/;return!!t.test(e)||(Object(o["a"])("支付密码必须为六位数字"),!1)},c=function(e){var t=/^\d{6}$/;return!!t.test(e)||(Object(o["a"])("请输入六位数字的密码！"),!1)},l=function(e){var t=60;return e.timer||(e.waitTime=t,e.canGet=!1,e.timer=setInterval(function(){e.waitTime>0&&e.waitTime<=t?e.waitTime--:(e.canGet=!0,clearInterval(e.timer),e.timer=null)},1e3)),{timer:e.timer,canGet:e.canGet,waitTime:e.waitTime}}},fb9c:function(e,t,n){e.exports=n.p+"ddbxryuser/img/gzh.jpg"}}]);