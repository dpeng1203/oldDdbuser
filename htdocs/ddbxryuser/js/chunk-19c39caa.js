(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-19c39caa"],{"0047":function(t,e,n){t.exports=n.p+"ddbxryuser/img/transfer.png"},3846:function(t,e,n){n("9e1e")&&"g"!=/./g.flags&&n("86cc").f(RegExp.prototype,"flags",{configurable:!0,get:n("0bfb")})},"66b9":function(t,e,n){"use strict";n("68ef"),n("9d70"),n("3743"),n("e3b3"),n("bc1b")},"6b54":function(t,e,n){"use strict";n("3846");var a=n("cb7c"),i=n("0bfb"),o=n("9e1e"),r="toString",s=/./[r],c=function(t){n("2aba")(RegExp.prototype,r,t,!0)};n("79e5")(function(){return"/a/b"!=s.call({source:"a",flags:"b"})})?c(function(){var t=a(this);return"/".concat(t.source,"/","flags"in t?t.flags:!o&&t instanceof RegExp?i.call(t):void 0)}):s.name!=r&&c(function(){return s.call(this)})},"8a58":function(t,e,n){"use strict";n("68ef"),n("a71a"),n("9d70"),n("3743"),n("4d75")},9776:function(t,e,n){"use strict";var a=n("baab"),i=n.n(a);i.a},b650:function(t,e,n){"use strict";var a=n("1988"),i=n("2638"),o=n.n(i),r=n("d282"),s=n("ba31"),c=n("b1d2"),l=n("48f4"),u=n("ad06"),d=n("543e"),p=Object(r["a"])("button"),f=p[0],v=p[1];function m(t,e,n,a){var i,r=e.tag,p=e.icon,f=e.type,m=e.color,b=e.plain,g=e.disabled,h=e.loading,y=e.hairline,C=e.loadingText,S={};function w(t){h||g||(Object(s["a"])(a,"click",t),Object(l["a"])(a))}function k(t){Object(s["a"])(a,"touchstart",t)}m&&(S.color=b?m:c["g"],b||(S.background=m),-1!==m.indexOf("gradient")?S.border=0:S.borderColor=m);var O=[v([f,e.size,{plain:b,loading:h,disabled:g,hairline:y,block:e.block,round:e.round,square:e.square}]),(i={},i[c["c"]]=y,i)];function x(){var a,i=[];return h?i.push(t(d["a"],{class:v("loading"),attrs:{size:e.loadingSize,type:e.loadingType,color:"currentColor"}})):p&&i.push(t(u["a"],{attrs:{name:p,classPrefix:e.iconPrefix},class:v("icon")})),a=h?C:n.default?n.default():e.text,a&&i.push(t("span",{class:v("text")},[a])),i}return t(r,o()([{style:S,class:O,attrs:{type:e.nativeType,disabled:g},on:{click:w,touchstart:k}},Object(s["b"])(a)]),[x()])}m.props=Object(a["a"])(Object(a["a"])({},l["c"]),{},{text:String,icon:String,color:String,block:Boolean,plain:Boolean,round:Boolean,square:Boolean,loading:Boolean,hairline:Boolean,disabled:Boolean,iconPrefix:String,nativeType:String,loadingText:String,loadingType:String,tag:{type:String,default:"button"},type:{type:String,default:"default"},size:{type:String,default:"normal"},loadingSize:{type:String,default:"20px"}}),e["a"]=f(m)},baab:function(t,e,n){},bc1b:function(t,e,n){},e41f:function(t,e,n){"use strict";var a=n("d282"),i=n("a142"),o=n("6605"),r=n("ad06"),s=Object(a["a"])("popup"),c=s[0],l=s[1];e["a"]=c({mixins:[Object(o["a"])()],props:{round:Boolean,duration:[Number,String],closeable:Boolean,transition:String,safeAreaInsetBottom:Boolean,closeIcon:{type:String,default:"cross"},closeIconPosition:{type:String,default:"top-right"},position:{type:String,default:"center"},overlay:{type:Boolean,default:!0},closeOnClickOverlay:{type:Boolean,default:!0}},beforeCreate:function(){var t=this,e=function(e){return function(n){return t.$emit(e,n)}};this.onClick=e("click"),this.onOpened=e("opened"),this.onClosed=e("closed")},render:function(){var t,e=arguments[0];if(this.shouldRender){var n=this.round,a=this.position,o=this.duration,s="center"===a,c=this.transition||(s?"van-fade":"van-popup-slide-"+a),u={};if(Object(i["b"])(o)){var d=s?"animationDuration":"transitionDuration";u[d]=o+"s"}return e("transition",{attrs:{name:c},on:{afterEnter:this.onOpened,afterLeave:this.onClosed}},[e("div",{directives:[{name:"show",value:this.value}],style:u,class:l((t={round:n},t[a]=a,t["safe-area-inset-bottom"]=this.safeAreaInsetBottom,t)),on:{click:this.onClick}},[this.slots(),this.closeable&&e(r["a"],{attrs:{role:"button",tabindex:"0",name:this.closeIcon},class:l("close-icon",this.closeIconPosition),on:{click:this.close}})])])}}})},eb2f:function(t,e,n){"use strict";n.r(e);var a,i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"transfer"},[a("div",{staticClass:"top"},[a("div",{staticClass:"left"},[a("div",{staticClass:"name"},[t._v("会员昵称")]),a("div",{staticClass:"val"},[t._v(t._s(t.name)+" (ID:"+t._s(t.id)+")")])]),a("div",{staticClass:"right"},[a("div",{staticClass:"name"},[t._v("我的卡券")]),a("div",{staticClass:"val"},[t._v(t._s(t.num)+" 张")])])]),a("img",{staticStyle:{"margin-top":".8rem"},attrs:{src:n("0047"),alt:""}}),a("p",[t._v("使用券转移后无法撤销，请谨慎操作！")]),a("div",{staticClass:"wrap"},[a("div",{staticClass:"item first"},[a("div",{staticClass:"name"},[t._v("对方会员ID")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.receiveCode,expression:"receiveCode"}],attrs:{type:"number",pattern:"[0-9]*",placeholder:"填写会员接收ID号"},domProps:{value:t.receiveCode},on:{input:function(e){e.target.composing||(t.receiveCode=e.target.value)}}})]),a("div",{staticClass:"item"},[a("div",{staticClass:"name"},[t._v("转移卡券（张）")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.couponSum,expression:"couponSum"}],attrs:{type:"number",pattern:"[0-9]*",placeholder:"填写转出卡券数量"},domProps:{value:t.couponSum},on:{input:function(e){e.target.composing||(t.couponSum=e.target.value)}}})])]),a("div",{staticClass:"btn"},[a("div",{staticClass:"btn-left",on:{click:t.transfer}},[t._v("转移卡券")]),a("div",{staticClass:"btn-right",on:{click:function(e){return t.$router.push("/transferRecord")}}},[t._v("转移记录")])]),a("van-popup",{attrs:{position:"top"},model:{value:t.showKeyboard,callback:function(e){t.showKeyboard=e},expression:"showKeyboard"}},[a("div",{staticClass:"pw-box"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.value,expression:"value"}],staticClass:"pw",attrs:{type:"password",pattern:"[0-9]*",placeholder:"请输入支付密码"},domProps:{value:t.value},on:{input:function(e){e.target.composing||(t.value=e.target.value)}}}),a("van-button",{staticClass:"btn-pw",attrs:{type:"primary"},on:{click:t.refundPw}},[t._v("确认")])],1)])],1)},o=[],r=(n("e7e5"),n("d399")),s=n("bd86"),c=(n("66b9"),n("b650")),l=(n("7f7f"),n("8a58"),n("e41f")),u=n("ed08"),d={components:(a={},Object(s["a"])(a,l["a"].name,l["a"]),Object(s["a"])(a,c["a"].name,c["a"]),a),data:function(){return{showKeyboard:!1,value:null,name:localStorage.memName,id:localStorage.memId,couponSum:null,receiveCode:null,num:0}},methods:{getInfo:function(){var t=this,e={xrymem_token_id:localStorage.memToken,opType:316};this.$api.ticket.merTicket(e).then(function(e){1==e.resultCode&&(t.num=e.data)})},refundPw:function(){var t=this;if(Object(u["a"])(this.value)){var e={xrymem_token_id:localStorage.memToken,opType:309,payPwd:this.value};this.$api.pay.changePw(e).then(function(e){if(1===e.resultCode){t.showKeyboard=!1;var n={xrymem_token_id:localStorage.memToken,opType:314,couponSum:t.couponSum,receiveCode:t.receiveCode};t.$api.ticket.merTicket(n).then(function(t){1==t.resultCode&&Object(r["a"])("转移成功")})}else Object(r["a"])("密码错误！")})}},transfer:function(){this.receiveCode?this.couponSum<1||this.couponSum>this.num?Object(r["a"])("请输入合适的卡券数量，不能多于持有卡券数量"):this.showKeyboard=!0:Object(r["a"])("请输入会员接收ID号")}},mounted:function(){this.getInfo()}},p=d,f=(n("9776"),n("2877")),v=Object(f["a"])(p,i,o,!1,null,"6c5e6321",null);e["default"]=v.exports},ed08:function(t,e,n){"use strict";n.d(e,"c",function(){return i}),n.d(e,"e",function(){return o}),n.d(e,"b",function(){return r}),n.d(e,"d",function(){return s}),n.d(e,"a",function(){return c}),n.d(e,"f",function(){return l});n("6b54"),n("e7e5");var a=n("d399"),i=function(t){var e=/^1[3|4|5|6|7|8|9][0-9]\d{8}$/;return!!e.test(t)||(Object(a["a"])("请输入正确的手机号"),!1)},o=function(t){var e=/^[\u4E00-\u9FA5A-Za-z0-9_]{1,16}$/;return!!e.test(t)||(Object(a["a"])("输入的必须是1-16位的任何字符!!!"),!1)},r=function(t){var e=/^[a-zA-Z0-9_-]{6,20}$/;return!!e.test(t)||(Object(a["a"])("密码必须由6-20位字母、数字、下划线组成"),!1)},s=function(t){var e=/^\d{6}$/;return!!e.test(t)||(Object(a["a"])("支付密码必须为六位数字"),!1)},c=function(t){var e=/^\d{6}$/;return!!e.test(t)||(Object(a["a"])("请输入六位数字的密码！"),!1)},l=function(t){var e=60;return t.timer||(t.waitTime=e,t.canGet=!1,t.timer=setInterval(function(){t.waitTime>0&&t.waitTime<=e?t.waitTime--:(t.canGet=!0,clearInterval(t.timer),t.timer=null)},1e3)),{timer:t.timer,canGet:t.canGet,waitTime:t.waitTime}}}}]);