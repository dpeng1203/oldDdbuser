(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-ac5dec12"],{"07e3":function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},"128d":function(e,t,n){e.exports=n.p+"ddbxryuser/img/login_logo.png"},"1bc3":function(e,t,n){var o=n("f772");e.exports=function(e,t){if(!o(e))return e;var n,i;if(t&&"function"==typeof(n=e.toString)&&!o(i=n.call(e)))return i;if("function"==typeof(n=e.valueOf)&&!o(i=n.call(e)))return i;if(!t&&"function"==typeof(n=e.toString)&&!o(i=n.call(e)))return i;throw TypeError("Can't convert object to primitive value")}},"1ec9":function(e,t,n){var o=n("f772"),i=n("e53d").document,r=o(i)&&o(i.createElement);e.exports=function(e){return r?i.createElement(e):{}}},"294c":function(e,t){e.exports=function(e){try{return!!e()}catch(t){return!0}}},"35e8":function(e,t,n){var o=n("d9f6"),i=n("aebd");e.exports=n("8e60")?function(e,t,n){return o.f(e,t,i(1,n))}:function(e,t,n){return e[t]=n,e}},3846:function(e,t,n){n("9e1e")&&"g"!=/./g.flags&&n("86cc").f(RegExp.prototype,"flags",{configurable:!0,get:n("0bfb")})},"454f":function(e,t,n){n("46a7");var o=n("584a").Object;e.exports=function(e,t,n){return o.defineProperty(e,t,n)}},"46a7":function(e,t,n){var o=n("63b6");o(o.S+o.F*!n("8e60"),"Object",{defineProperty:n("d9f6").f})},"49f4":function(e,t,n){},"51d3":function(e,t,n){"use strict";var o=n("bbe1"),i=n.n(o);i.a},"584a":function(e,t){var n=e.exports={version:"2.6.9"};"number"==typeof __e&&(__e=n)},"63b6":function(e,t,n){var o=n("e53d"),i=n("584a"),r=n("d864"),a=n("35e8"),c=n("07e3"),s="prototype",u=function(e,t,n){var l,f,d,p=e&u.F,m=e&u.G,v=e&u.S,h=e&u.P,b=e&u.B,g=e&u.W,w=m?i:i[t]||(i[t]={}),y=w[s],O=m?o:v?o[t]:(o[t]||{})[s];for(l in m&&(n=t),n)f=!p&&O&&void 0!==O[l],f&&c(w,l)||(d=f?O[l]:n[l],w[l]=m&&"function"!=typeof O[l]?n[l]:b&&f?r(d,o):g&&O[l]==d?function(e){var t=function(t,n,o){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,n)}return new e(t,n,o)}return e.apply(this,arguments)};return t[s]=e[s],t}(d):h&&"function"==typeof d?r(Function.call,d):d,h&&((w.virtual||(w.virtual={}))[l]=d,e&u.R&&y&&!y[l]&&a(y,l,d)))};u.F=1,u.G=2,u.S=4,u.P=8,u.B=16,u.W=32,u.U=64,u.R=128,e.exports=u},"6b54":function(e,t,n){"use strict";n("3846");var o=n("cb7c"),i=n("0bfb"),r=n("9e1e"),a="toString",c=/./[a],s=function(e){n("2aba")(RegExp.prototype,a,e,!0)};n("79e5")(function(){return"/a/b"!=c.call({source:"a",flags:"b"})})?s(function(){var e=o(this);return"/".concat(e.source,"/","flags"in e?e.flags:!r&&e instanceof RegExp?i.call(e):void 0)}):c.name!=a&&s(function(){return c.call(this)})},"78df":function(e,t,n){"use strict";var o=n("49f4"),i=n.n(o);i.a},"794b":function(e,t,n){e.exports=!n("8e60")&&!n("294c")(function(){return 7!=Object.defineProperty(n("1ec9")("div"),"a",{get:function(){return 7}}).a})},"79aa":function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},"7f7f":function(e,t,n){var o=n("86cc").f,i=Function.prototype,r=/^\s*function ([^ (]*)/,a="name";a in i||n("9e1e")&&o(i,a,{configurable:!0,get:function(){try{return(""+this).match(r)[1]}catch(e){return""}}})},"85f2":function(e,t,n){e.exports=n("454f")},"8a58":function(e,t,n){"use strict";n("68ef"),n("09fe"),n("4d75")},"8e60":function(e,t,n){e.exports=!n("294c")(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},aebd:function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},bbe1:function(e,t,n){},bd86:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var o=n("85f2"),i=n.n(o);function r(e,t,n){return t in e?i()(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},c3a6:function(e,t,n){"use strict";n("68ef"),n("09fe")},d864:function(e,t,n){var o=n("79aa");e.exports=function(e,t,n){if(o(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,o){return e.call(t,n,o)};case 3:return function(n,o,i){return e.call(t,n,o,i)}}return function(){return e.apply(t,arguments)}}},d9f6:function(e,t,n){var o=n("e4ae"),i=n("794b"),r=n("1bc3"),a=Object.defineProperty;t.f=n("8e60")?Object.defineProperty:function(e,t,n){if(o(e),t=r(t,!0),o(n),i)try{return a(e,t,n)}catch(c){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},dc3f:function(e,t,n){"use strict";n.r(t);var o,i=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"login"},[o("img",{attrs:{src:n("128d"),alt:""}}),o("div",{staticClass:"box"},[o("div",{staticClass:"tab"},[o("span",{class:{active:1==e.active},on:{click:function(t){e.active=1}}},[e._v("登录")]),o("span",{class:{active:2==e.active},on:{click:function(t){e.active=2}}},[e._v("注册")])]),1==e.active?o("div",{staticClass:"login-cont"},[o("div",{staticClass:"item"},[o("input",{directives:[{name:"model",rawName:"v-model",value:e.phone,expression:"phone"}],attrs:{type:"number",pattern:"[0-9]*",placeholder:"请输入手机号"},domProps:{value:e.phone},on:{input:function(t){t.target.composing||(e.phone=t.target.value)}}})]),o("div",{staticClass:"item"},[o("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],attrs:{type:"password",placeholder:"请输入密码"},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value)}}})]),o("p",{on:{click:function(t){return e.$router.push("/resetPw")}}},[o("span",[e._v("忘记密码")])]),o("div",{staticClass:"btn",on:{click:e.login}},[e._v("立即登陆")])]):e._e(),2==e.active?o("div",{staticClass:"login-cont"},[o("sign",{on:{memLogin:e.signed}})],1):e._e()])])},r=[],a=n("ed08"),c=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"sign"},[o("div",{staticClass:"login-cont"},[o("div",{staticClass:"input"},[o("input",{directives:[{name:"model",rawName:"v-model",value:e.name,expression:"name"}],attrs:{type:"text",placeholder:"用户名：4-14字符"},domProps:{value:e.name},on:{input:function(t){t.target.composing||(e.name=t.target.value)}}}),o("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],attrs:{type:"password",placeholder:"登录密码：6-20字符"},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value)}}}),o("input",{directives:[{name:"model",rawName:"v-model",value:e.phone,expression:"phone"}],attrs:{type:"number",pattern:"[0-9]*",placeholder:"手机号"},domProps:{value:e.phone},on:{input:function(t){t.target.composing||(e.phone=t.target.value)}}}),o("input",{directives:[{name:"model",rawName:"v-model",value:e.code,expression:"code"}],attrs:{type:"number",pattern:"[0-9]*",placeholder:"输入验证码"},domProps:{value:e.code},on:{input:function(t){t.target.composing||(e.code=t.target.value)}}}),o("span",{directives:[{name:"show",rawName:"v-show",value:!e.timeObj.canGet,expression:"!timeObj.canGet"}]},[e._v(e._s(e.timeObj.waitTime+"s后重新获取"))]),o("span",{directives:[{name:"show",rawName:"v-show",value:e.timeObj.canGet,expression:"timeObj.canGet"}],staticClass:"code",on:{click:e.getCode}},[e._v("获取验证码")]),o("input",{directives:[{name:"model",rawName:"v-model",value:e.memPayPwd,expression:"memPayPwd"}],attrs:{type:"password",pattern:"[0-9]*",placeholder:"支付密码：6位数字"},domProps:{value:e.memPayPwd},on:{input:function(t){t.target.composing||(e.memPayPwd=t.target.value)}}})]),o("div",{staticClass:"btn",on:{click:e.toSign}},[e._v("立即注册")])]),o("van-popup",{style:{width:"80%"},attrs:{round:"","close-on-click-overlay":!1},model:{value:e.show,callback:function(t){e.show=t},expression:"show"}}),e.show?o("div",{staticClass:"p-icon"},[o("img",{staticClass:"gzh",attrs:{src:n("fb9c"),alt:""}}),o("div",{staticClass:"icon-close",on:{click:function(t){e.show=!1}}},[o("van-icon",{attrs:{name:"clear",size:".9rem",color:"#fff"}})],1)]):e._e()],1)},s=[],u=(n("e7e5"),n("d399")),l=n("bd86"),f=(n("8a58"),n("e41f")),d=(n("7f7f"),n("c3a6"),n("ad06")),p={name:"sign",components:(o={},Object(l["a"])(o,d["a"].name,d["a"]),Object(l["a"])(o,f["a"].name,f["a"]),o),props:{},data:function(){return{show:!1,name:"",password:"",phone:"",code:"",memPayPwd:"",timeCountObj:{canGet:!0,timer:null,waitTime:60}}},computed:{timeObj:function(){return this.timeCountObj.canGet?this.timeCountObj:Object(a["f"])(this.timeCountObj)}},methods:{getCode:function(){var e=this;if(Object(a["c"])(this.phone)){var t={mobile:this.phone,type:"register"};this.$api.login.code(t).then(function(t){1===t.resultCode&&(Object(u["a"])("发送成功！"),Object(a["f"])(e.timeObj))})}},toSign:function(){var e=this;if(Object(a["e"])(this.name)&&Object(a["b"])(this.password)&&Object(a["c"])(this.phone)&&Object(a["d"])(this.memPayPwd))if(localStorage.recCode){var t={memName:this.name,memMobile:this.phone,verifyCode:this.code,memPwd:this.password,pMemCode:localStorage.recCode,memPayPwd:this.memPayPwd};this.$api.login.signQr(t).then(function(t){1===t.resultCode&&(Object(u["a"])("注册成功！"),e.$emit("memLogin",1))})}else{var n={memName:this.name,memMobile:this.phone,verifyCode:this.code,memPwd:this.password,memPayPwd:this.memPayPwd};this.$api.login.sign(n).then(function(t){1===t.resultCode&&(Object(u["a"])("注册成功！"),e.$emit("memLogin",1))})}}}},m=p,v=(n("51d3"),n("2877")),h=Object(v["a"])(m,c,s,!1,null,"2631dc5d",null),b=h.exports,g={name:"login",components:{sign:b},data:function(){return{active:1,phone:"",password:"",recCode:""}},methods:{login:function(){var e=this;if(Object(a["c"])(this.phone)&&Object(a["b"])(this.password)){var t={mobile:this.phone,pwd:this.password};this.$api.login.login(t).then(function(t){1===t.resultCode&&(localStorage.memToken=t.data.token,localStorage.phone=e.phone,localStorage.memName=t.data.member.memName,localStorage.memId=t.data.member.memCode,e.$router.push("/home"))})}},signed:function(){this.active=1}},mounted:function(){console.log(this.$route.query.memCode),localStorage.memToken?this.$router.push("/home"):this.$route.query.memCode&&(this.active=2,localStorage.recCode=this.$route.query.memCode)}},w=g,y=(n("78df"),Object(v["a"])(w,i,r,!1,null,"00e6eb84",null));t["default"]=y.exports},e41f:function(e,t,n){"use strict";var o=n("d282"),i=n("a142"),r=n("6605"),a=n("ad06"),c=Object(o["a"])("popup"),s=c[0],u=c[1];t["a"]=s({mixins:[r["a"]],props:{round:Boolean,duration:Number,closeable:Boolean,transition:String,safeAreaInsetBottom:Boolean,closeIcon:{type:String,default:"cross"},closeIconPosition:{type:String,default:"top-right"},position:{type:String,default:"center"},overlay:{type:Boolean,default:!0},closeOnClickOverlay:{type:Boolean,default:!0}},beforeCreate:function(){var e=this,t=function(t){return function(n){return e.$emit(t,n)}};this.onClick=t("click"),this.onOpened=t("opened"),this.onClosed=t("closed")},render:function(){var e,t=arguments[0];if(this.shouldRender){var n=this.round,o=this.position,r=this.duration,c=this.transition||("center"===o?"van-fade":"van-popup-slide-"+o),s={};return Object(i["b"])(r)&&(s.transitionDuration=r+"s"),t("transition",{attrs:{name:c},on:{afterEnter:this.onOpened,afterLeave:this.onClosed}},[t("div",{directives:[{name:"show",value:this.value}],style:s,class:u((e={round:n},e[o]=o,e["safe-area-inset-bottom"]=this.safeAreaInsetBottom,e)),on:{click:this.onClick}},[this.slots(),this.closeable&&t(a["a"],{attrs:{name:this.closeIcon},class:u("close-icon",this.closeIconPosition),on:{click:this.close}})])])}}})},e4ae:function(e,t,n){var o=n("f772");e.exports=function(e){if(!o(e))throw TypeError(e+" is not an object!");return e}},e53d:function(e,t){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},ed08:function(e,t,n){"use strict";n.d(t,"c",function(){return i}),n.d(t,"e",function(){return r}),n.d(t,"b",function(){return a}),n.d(t,"d",function(){return c}),n.d(t,"a",function(){return s}),n.d(t,"f",function(){return u});n("6b54"),n("e7e5");var o=n("d399"),i=function(e){var t=/^1[3|4|5|6|7|8|9][0-9]\d{8}$/;return!!t.test(e)||(Object(o["a"])("请输入正确的手机号"),!1)},r=function(e){var t=/^[\u4E00-\u9FA5A-Za-z0-9_]{1,16}$/;return!!t.test(e)||(Object(o["a"])("输入的必须是1-16位的任何字符!!!"),!1)},a=function(e){var t=/^[a-zA-Z0-9_-]{6,20}$/;return!!t.test(e)||(Object(o["a"])("密码必须由6-20位字母、数字、下划线组成"),!1)},c=function(e){var t=/^\d{6}$/;return!!t.test(e)||(Object(o["a"])("支付密码必须为六位数字"),!1)},s=function(e){var t=/^\d{6}$/;return!!t.test(e)||(Object(o["a"])("请输入六位数字的密码！"),!1)},u=function(e){var t=60;return e.timer||(e.waitTime=t,e.canGet=!1,e.timer=setInterval(function(){e.waitTime>0&&e.waitTime<=t?e.waitTime--:(e.canGet=!0,clearInterval(e.timer),e.timer=null)},1e3)),{timer:e.timer,canGet:e.canGet,waitTime:e.waitTime}}},f772:function(e,t){e.exports=function(e){return"object"===typeof e?null!==e:"function"===typeof e}},fb9c:function(e,t,n){e.exports=n.p+"ddbxryuser/img/gzh.jpg"}}]);